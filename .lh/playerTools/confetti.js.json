{
    "sourceFile": "playerTools/confetti.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1694658371872,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1694658999827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n \t\tif (canvas === null) {\r\n \t\t\tcanvas = document.createElement(\"canvas\");\r\n \t\t\tcanvas.setAttribute(\"id\", \"confetti-canvas\");\r\n \t\t\tcanvas.setAttribute(\"style\", \"display:block;z-index:999999;pointer-events:none\");\r\n-\t\t\tdocument.body.appendChild(canvas);\r\n+\t\t\tdocument.body.prepend(canvas);\r\n \t\t\tcanvas.width = width;\r\n \t\t\tcanvas.height = height;\r\n \t\t\twindow.addEventListener(\"resize\", function() {\r\n \t\t\t\tcanvas.width = window.innerWidth;\r\n"
                },
                {
                    "date": 1694659477285,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n \t\tvar canvas = document.getElementById(\"confetti-canvas\");\r\n \t\tif (canvas === null) {\r\n \t\t\tcanvas = document.createElement(\"canvas\");\r\n \t\t\tcanvas.setAttribute(\"id\", \"confetti-canvas\");\r\n-\t\t\tcanvas.setAttribute(\"style\", \"display:block;z-index:999999;pointer-events:none\");\r\n+\t\t\tcanvas.setAttribute(\"style\", \"display:block ;z-index:999 ;pointer-events:none\");\r\n \t\t\tdocument.body.prepend(canvas);\r\n \t\t\tcanvas.width = width;\r\n \t\t\tcanvas.height = height;\r\n \t\t\twindow.addEventListener(\"resize\", function() {\r\n"
                },
                {
                    "date": 1694659759048,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n \t\tvar canvas = document.getElementById(\"confetti-canvas\");\r\n \t\tif (canvas === null) {\r\n \t\t\tcanvas = document.createElement(\"canvas\");\r\n \t\t\tcanvas.setAttribute(\"id\", \"confetti-canvas\");\r\n-\t\t\tcanvas.setAttribute(\"style\", \"display:block ;z-index:999 ;pointer-events:none\");\r\n+\t\t\tcanvas.setAttribute(\"style\", \"display:block;z-index:999999;pointer-events:none;position:fixed\");\r\n \t\t\tdocument.body.prepend(canvas);\r\n \t\t\tcanvas.width = width;\r\n \t\t\tcanvas.height = height;\r\n \t\t\twindow.addEventListener(\"resize\", function() {\r\n"
                }
            ],
            "date": 1694658371872,
            "name": "Commit-0",
            "content": "var maxParticleCount = 300; //set max confetti count\r\nvar particleSpeed = 2; //set the particle animation speed\r\nvar startConfetti; //call to start confetti animation\r\nvar stopConfetti; //call to stop adding confetti\r\nvar toggleConfetti; //call to start or stop the confetti animation depending on whether it's already running\r\nvar removeConfetti; //call to stop the confetti animation and remove all confetti immediately\r\n\r\n(function() {\r\n\tstartConfetti = startConfettiInner;\r\n\tstopConfetti = stopConfettiInner;\r\n\ttoggleConfetti = toggleConfettiInner;\r\n\tremoveConfetti = removeConfettiInner;\r\n\tvar colors = [\"DodgerBlue\", \"OliveDrab\", \"Gold\", \"Pink\", \"SlateBlue\", \"LightBlue\", \"Violet\", \"PaleGreen\", \"SteelBlue\", \"SandyBrown\", \"Chocolate\", \"Crimson\"]\r\n\tvar streamingConfetti = false;\r\n\tvar animationTimer = null;\r\n\tvar particles = [];\r\n\tvar waveAngle = 0;\r\n\t\r\n\tfunction resetParticle(particle, width, height) {\r\n\t\tparticle.color = colors[(Math.random() * colors.length) | 0];\r\n\t\tparticle.x = Math.random() * width;\r\n\t\tparticle.y = Math.random() * height - height;\r\n\t\tparticle.diameter = Math.random() * 10 + 5;\r\n\t\tparticle.tilt = Math.random() * 10 - 10;\r\n\t\tparticle.tiltAngleIncrement = Math.random() * 0.07 + 0.05;\r\n\t\tparticle.tiltAngle = 0;\r\n\t\treturn particle;\r\n\t}\r\n\r\n\tfunction startConfettiInner() {\r\n\t\tvar width = window.innerWidth;\r\n\t\tvar height = window.innerHeight;\r\n\t\twindow.requestAnimFrame = (function() {\r\n\t\t\treturn window.requestAnimationFrame ||\r\n\t\t\t\twindow.webkitRequestAnimationFrame ||\r\n\t\t\t\twindow.mozRequestAnimationFrame ||\r\n\t\t\t\twindow.oRequestAnimationFrame ||\r\n\t\t\t\twindow.msRequestAnimationFrame ||\r\n\t\t\t\tfunction (callback) {\r\n\t\t\t\t\treturn window.setTimeout(callback, 16.6666667);\r\n\t\t\t\t};\r\n\t\t})();\r\n\t\tvar canvas = document.getElementById(\"confetti-canvas\");\r\n\t\tif (canvas === null) {\r\n\t\t\tcanvas = document.createElement(\"canvas\");\r\n\t\t\tcanvas.setAttribute(\"id\", \"confetti-canvas\");\r\n\t\t\tcanvas.setAttribute(\"style\", \"display:block;z-index:999999;pointer-events:none\");\r\n\t\t\tdocument.body.appendChild(canvas);\r\n\t\t\tcanvas.width = width;\r\n\t\t\tcanvas.height = height;\r\n\t\t\twindow.addEventListener(\"resize\", function() {\r\n\t\t\t\tcanvas.width = window.innerWidth;\r\n\t\t\t\tcanvas.height = window.innerHeight;\r\n\t\t\t}, true);\r\n\t\t}\r\n\t\tvar context = canvas.getContext(\"2d\");\r\n\t\twhile (particles.length < maxParticleCount)\r\n\t\t\tparticles.push(resetParticle({}, width, height));\r\n\t\tstreamingConfetti = true;\r\n\t\tif (animationTimer === null) {\r\n\t\t\t(function runAnimation() {\r\n\t\t\t\tcontext.clearRect(0, 0, window.innerWidth, window.innerHeight);\r\n\t\t\t\tif (particles.length === 0)\r\n\t\t\t\t\tanimationTimer = null;\r\n\t\t\t\telse {\r\n\t\t\t\t\tupdateParticles();\r\n\t\t\t\t\tdrawParticles(context);\r\n\t\t\t\t\tanimationTimer = requestAnimFrame(runAnimation);\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction stopConfettiInner() {\r\n\t\tstreamingConfetti = false;\r\n\t}\r\n\r\n\tfunction removeConfettiInner() {\r\n\t\tstopConfetti();\r\n\t\tparticles = [];\r\n\t}\r\n\r\n\tfunction toggleConfettiInner() {\r\n\t\tif (streamingConfetti)\r\n\t\t\tstopConfettiInner();\r\n\t\telse\r\n\t\t\tstartConfettiInner();\r\n\t}\r\n\r\n\tfunction drawParticles(context) {\r\n\t\tvar particle;\r\n\t\tvar x;\r\n\t\tfor (var i = 0; i < particles.length; i++) {\r\n\t\t\tparticle = particles[i];\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.lineWidth = particle.diameter;\r\n\t\t\tcontext.strokeStyle = particle.color;\r\n\t\t\tx = particle.x + particle.tilt;\r\n\t\t\tcontext.moveTo(x + particle.diameter / 2, particle.y);\r\n\t\t\tcontext.lineTo(x, particle.y + particle.tilt + particle.diameter / 2);\r\n\t\t\tcontext.stroke();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateParticles() {\r\n\t\tvar width = window.innerWidth;\r\n\t\tvar height = window.innerHeight;\r\n\t\tvar particle;\r\n\t\twaveAngle += 0.01;\r\n\t\tfor (var i = 0; i < particles.length; i++) {\r\n\t\t\tparticle = particles[i];\r\n\t\t\tif (!streamingConfetti && particle.y < -15)\r\n\t\t\t\tparticle.y = height + 100;\r\n\t\t\telse {\r\n\t\t\t\tparticle.tiltAngle += particle.tiltAngleIncrement;\r\n\t\t\t\tparticle.x += Math.sin(waveAngle);\r\n\t\t\t\tparticle.y += (Math.cos(waveAngle) + particle.diameter + particleSpeed) * 0.5;\r\n\t\t\t\tparticle.tilt = Math.sin(particle.tiltAngle) * 15;\r\n\t\t\t}\r\n\t\t\tif (particle.x > width + 20 || particle.x < -20 || particle.y > height) {\r\n\t\t\t\tif (streamingConfetti && particles.length <= maxParticleCount)\r\n\t\t\t\t\tresetParticle(particle, width, height);\r\n\t\t\t\telse {\r\n\t\t\t\t\tparticles.splice(i, 1);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})();"
        }
    ]
}